<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>    
        <title>PokeTracker - Home</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0" />
        <meta name="description" content="Use PokeTracker to keep track of all of your Pokemon!" />
        <meta name="author" content="Trevor Covington" />
        <meta name="author" content="tcovington189@gmail.com" />
        <meta name="application-name" content="PokeTracker" />
        
        <!-- favicon info -->
        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="images/favicons/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/favicons/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="images/favicons/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="images/favicons/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="images/favicons/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="images/favicons/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="images/favicons/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="images/favicons/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="images/favicons/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="images/favicons/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="images/favicons/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="images/favicons/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="images/favicons/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="PokeTracker"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="images/favicons/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="images/favicons/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="images/favicons/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="images/favicons/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="images/favicons/mstile-310x310.png" />

        
        <!-- Stylesheets -->
        <link rel="stylesheet" href="css/poke_tracker.min.css" type="text/css">
        <link rel="stylesheet" href="css/poke_tracker.css" type="text/css">
                
    </head>
<body>

<div class="header">
  <div class="header-brand">
        <a href="../">
            <img class="header-brand-logo" src="images/poketracker-title.png" alt="">
        </a>
    </div>
   <div class="header-game-block">
       <img class="" src="" alt="">&nbsp;<span class="font-size-small"></span>
   </div>    
    <div class="header-settings">
        <button class="button button_settings"></button>
    </div>
</div><!-- end .header-->

<div class="container">        
    
    <div class="block block-route">                    
       <div class="block-route-info">
           <div class="block-route-header">
               <h3></h3>
           </div>
           <div class="card block-route-paths">               
           </div>
       </div>                   
    </div>
    
    <div class="block block-encounters">
              
    </div>
    
</div>
<footer class="footer">   
    <select class="route-select">       
       <option selected>Jump to location...</option>
        
    </select>
    
</footer><!-- end footer-->
<script src="scripts/jquery.min.js"></script>
<script src="src/js/load_data.js"></script>
<script src="src/js/generate_html.js"></script>
<script>
    //Generate Html starting function
    $().ready(function(){
       generateHtml(); 
    });
    
    //Set new current location to button click
    $('body').on('click', '.button_route', function(){
        newLocation = $(this).text();
        localStorage.setItem('current_location', newLocation);
        generateHtml();
    })

    
    $('body').on('click', 'i.card_pokemon-pokeball-icon', function(){        
        var pokemonCaught = $(this).attr('id');
        $('i.card_pokemon-pokeball-icon#'+ pokemonCaught).toggleClass('caught');
        pkmnCaughtData = JSON.parse(localStorage.getItem('pokemon_caught'));
        
        if ($.inArray(pokemonCaught, pkmnCaughtData) === -1) {
            pkmnCaughtData.push(pokemonCaught);   
        } else {
            pkmnCaughtData.splice( $.inArray(pokemonCaught, pkmnCaughtData), 1);
        }        
        
        localStorage.setItem('pokemon_caught', JSON.stringify(pkmnCaughtData));
    });
    
    //Generating routes
    var select = $('footer select');
    
    $.each(locationData.locations, function (index, location){
        $(select).append($('<option>', { 
            value: location.name,
            text : location.name 
        }));
    })
    
    //Route selector
    function selectChangeRoute(){
        var locationInfo = $('select').val();
        localStorage.setItem("current_location", locationInfo);
        generateHtml();
    }
    
    $('.route-select').on('change', function(){
        selectChangeRoute()
    });
    
</script>
<!--
    <script>                
        //See how much room is in localStorage
        var total = 0;
        for(var x in localStorage) {
          var amount = (localStorage[x].length * 2) / 1024 / 1024;
          total += amount;
          console.log( x + " = " + amount.toFixed(6) + " MB");
        }
        
        console.log( "Total: " + total.toFixed(2) + " MB");
    </script>
-->
</body>
</html>
