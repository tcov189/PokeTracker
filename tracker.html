<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>    
        <title>PokeTracker - Home</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0" />
        <meta name="description" content="Use Nuztracker to keep track of all of your Pokemon!" />
        <meta name="author" content="Trevor Covington" />
        <meta name="author" content="tcovington189@gmail.com" />
        <meta name="application-name" content="PokeTracker" />
        
        <!-- favicon info -->
        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="images/favicons/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/favicons/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="images/favicons/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="images/favicons/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="images/favicons/apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="images/favicons/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="images/favicons/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="images/favicons/apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="images/favicons/favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="images/favicons/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="images/favicons/favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="images/favicons/favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="images/favicons/favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="PokeTracker"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="images/favicons/mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="images/favicons/mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="images/favicons/mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="images/favicons/mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="images/favicons/mstile-310x310.png" />

        
        <!-- Stylesheets -->
        <link rel="stylesheet" href="css/poke_tracker.min.css" type="text/css">
        <link rel="stylesheet" href="css/poke_tracker.css" type="text/css">
                
    </head>
<body>

<div class="header">
    <div class="poketrackerTitle">
        <img src="images/poketracker-title.png" alt="PokeTracker">
    </div>
    <div class="versionLogo">
        
    </div>
    <div class="changeGameBtn">
        <button type="button" onclick="gameChange();">Change Game</button>
    </div>
</div><!-- end .header-->

<div class="container">   
    
    <div class="locContainer" id="loc_container">
       <div class="locTitle" id="loc_title">                      
            <div class="locLabel" id="loc_label">
                <div class="locTitleCon">
                    <i class="locSign" id="loc_sign"></i>
                    <h3 class="locTitleText" id="loc_title_text"></h4>
                </div>
                <div class="locDestination">
                    <div class="locPrevious" id="loc_previous"><span><i class="previousArrow"></i>Previous</span></div>        
                    <div class="locNext" id="loc_next"><span>Next<i class="nextArrow"></i></span></div>
                </div>
            </div>
            <div class="mapTab">
               <div class="zoom">
                   <span>Full map</span>
                   <button type="button" class="zoomBtn"></button>
               </div>                
                <div class="locImg" id="loc_img"><div class="locationMarkerSm"></div></div>
            </div>
        </div>                    

        <div class="locHeader" id="loc_header"> 
           <div class="locEnc">
               <h4>Encounters</h4>
               <div class="locEncDropdown" id="loc_enc_dropdown"></div>
           </div>
                        
        </div>
        
        <!-- end locHeader-->
        <div class="locBody" id="loc_body">
           <div class="locInfoTop" id="loc_info_top">            
            </div>
            <!-- end locInfoTop -->
            <div class="pokemon_route_info"></div>
        </div>
        <!-- end locBody-->
        <div class="map_overlay"><div class="locImg loc_img_lw"><div class="locationMarker"></div></div><p></p></div>
    </div>
    <!--end locContainer-->
</div>
<footer class="bottom-nav">
        
</footer><!-- end footer-->
<script src="scripts/jquery.min.js"></script>
<script>
$.ajax({
        url: 'data/pokedexes/national-dex.json',
        async: false,
        success: function(data){
            nationalPkmnData = [];
            $.each(data, function(i, val){
                nationalDexObj = {
                    'name' : val.name,
                    'type' : val.type,
                    'n_dex_num' : val.n_dex_num,
                    'r_dex_num' : ''
                };                
                nationalPkmnData.push(nationalDexObj);
            })
        }
    });
    
    $.ajax({
        url: 'data/pokeapi_data/xy-coastal.json',
        async: false,
        success: function(data){
            regionalDexData = [];
            $.each(data.pokemon_entries, function(i, val){
                regionalDexObj = {
                    'name' : val.pokemon_species.name,
                    'r_dex_num' : val.entry_number
                }
                regionalDexData.push(regionalDexObj);
            })
        }
    });    

    var mergedArr = $.merge(nationalPkmnData, regionalDexData);
    
    var regionOnly = [];
    var dupes = [];
    
    mergedArr.forEach(function(value) {
      var existing = dupes.filter(function(v, i) {
        return v.name == value.name;
      });
      if (existing.length) {
        var existingIndex = dupes.indexOf(existing[0]);        
        dupes[existingIndex].r_dex_num = dupes[existingIndex].r_dex_num.concat(value.r_dex_num);
        regionOnly.push(dupes[existingIndex])  
      } else {
        if (typeof value.name == 'string')
          value.name = value.name;
        dupes.push(value);
      }
    });
    
    console.log(JSON.stringify(regionOnly))    
</script>
<!--
    <script>                
        //See how much room is in localStorage
        var total = 0;
        for(var x in localStorage) {
          var amount = (localStorage[x].length * 2) / 1024 / 1024;
          total += amount;
          console.log( x + " = " + amount.toFixed(6) + " MB");
        }
        
        console.log( "Total: " + total.toFixed(2) + " MB");
    </script>
-->
</body>
</html>
